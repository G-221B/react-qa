(this["webpackJsonpreact-qa"]=this["webpackJsonpreact-qa"]||[]).push([[12],{130:function(n,t,e){"use strict";e.d(t,"m",(function(){return a})),e.d(t,"p",(function(){return i})),e.d(t,"j",(function(){return c})),e.d(t,"q",(function(){return s})),e.d(t,"o",(function(){return o})),e.d(t,"d",(function(){return u})),e.d(t,"c",(function(){return d})),e.d(t,"b",(function(){return l})),e.d(t,"n",(function(){return f})),e.d(t,"h",(function(){return p})),e.d(t,"e",(function(){return b})),e.d(t,"a",(function(){return j})),e.d(t,"f",(function(){return x})),e.d(t,"g",(function(){return m})),e.d(t,"l",(function(){return h})),e.d(t,"k",(function(){return O})),e.d(t,"i",(function(){return g}));var r=e(27);function a(){return r.a.get("/isLogin")}function i(n,t){return r.a.post("/user/login",{account:n,password:t,userType:0})}function c(n){return r.a.post("/user/account",{account:n})}function s(n){var t=n.name,e=n.account,a=n.password,i=n.sex,c=n.email,s=n.detail;return r.a.post("/user/register",{name:t,account:e,password:a,sex:i,email:c,detail:s})}function o(n,t){var e=new FormData;return e.append("file",n),r.a.post("/user/upload",e,{headers:{"content-type":"multipart/form-data"},onUploadProgress:t})}function u(n,t,e){return r.a.post("/question/star",{user_id:n,q_id:t,star:e})}function d(n,t,e){return r.a.post("/question/mark",{user_id:n,q_id:t,mark:e})}function l(n,t,e,a){return console.log(n,t,e,a),r.a.post("/question/answer/star",{user_id:n,a_id:e,q_id:t,star:a})}function f(n,t,e){return console.log(n,t,e),r.a.post("/question/reply",{user_id:n,q_id:t,content:e})}function p(n,t,e,a){return r.a.post("/question/answer/delete",{user_id:n,a_id:e,q_id:t,best_answer:a})}function b(n,t,e){return r.a.post("/question/answer/true",{user_id:n,q_id:t,a_id:e})}function j(n,t,e){return r.a.post("/question/answer/cancel",{user_id:n,q_id:t,a_id:e})}function x(n,t,e,a,i,c){return r.a.post("/user/info",{user_id:n,avatar:t,name:e,sex:a,email:i,detail:c})}function m(n,t,e){return r.a.post("/user/password",{user_id:n,old_password:t,new_password:e})}function h(n,t){return r.a.get("/user/question",{params:{user_id:n,pageNum:t}})}function O(n,t){return r.a.get("/user/mark",{params:{user_id:n,pageNum:t}})}function g(n,t){return r.a.post("/question/delete",{user_id:n,q_id:t})}},138:function(n,t,e){"use strict";e.d(t,"a",(function(){return o})),e.d(t,"b",(function(){return u}));var r=e(31),a=e.n(r),i=e(131),c=e(0),s=e(130);function o(n){Object(c.useEffect)((function(){function t(){return(t=Object(i.a)(a.a.mark((function t(){return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(s.m)();case 2:401===t.sent.status&&n.push("/login");case 4:case"end":return t.stop()}}),t)})))).apply(this,arguments)}!function(){t.apply(this,arguments)}()}),[n])}function u(n){Object(c.useEffect)((function(){document.title=n}),[n])}},159:function(n,t,e){"use strict";e.d(t,"a",(function(){return d}));var r=e(19),a=e(0),i=e(10),c=e.n(i),s=e(128);function o(){var n=Object(s.a)(["\n  position: relative;\n  height: 63px;\n  padding: 30px 20px 0;\n  box-sizing: border-box;\n  background-color: #fff;\n  border: 1px solid #e6e6e6;\n  .title {\n    position: absolute;\n    left: 15px;\n    top: 50%;\n    font-size: 18px;\n    color: #333;\n    transform: translateY(-50%);\n    .icon {\n      margin-right: 5px;\n      vertical-align:text-bottom;\n    }\n  }\n  .nav-list {\n    display: flex;\n    position: absolute;\n    right: 10px;\n    margin: 0;\n    \n    .list-item {\n      margin-left: 5px;\n      span {\n        padding: 10px;\n        cursor: pointer;\n        color: #666;\n        &:hover,&.active {\n          border-bottom: 2px solid #3579a6;\n        }\n      }\n    }\n  }\n"]);return o=function(){return n},n}var u=e(127).a.div(o());function d(n){var t=Object(a.useCallback)((function(t){n.changeCurrentIndex(t)}),[n]);return Object(r.jsxs)(u,{children:[Object(r.jsxs)("h2",{className:"title",children:[Object(r.jsxs)("svg",{t:"1611226720388",className:"icon",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"2516",width:"20",height:"20",children:[Object(r.jsx)("path",{d:"M170.666667 213.333333m-64 0a64 64 0 1 0 128 0 64 64 0 1 0-128 0Z","p-id":"2517",fill:"#333333"}),Object(r.jsx)("path",{d:"M170.666667 512m-64 0a64 64 0 1 0 128 0 64 64 0 1 0-128 0Z","p-id":"2518",fill:"#333333"}),Object(r.jsx)("path",{d:"M170.666667 810.666667m-64 0a64 64 0 1 0 128 0 64 64 0 1 0-128 0Z","p-id":"2519",fill:"#333333"}),Object(r.jsx)("path",{d:"M896 778.666667H362.666667c-17.066667 0-32 14.933333-32 32s14.933333 32 32 32h533.333333c17.066667 0 32-14.933333 32-32s-14.933333-32-32-32zM362.666667 245.333333h533.333333c17.066667 0 32-14.933333 32-32s-14.933333-32-32-32H362.666667c-17.066667 0-32 14.933333-32 32s14.933333 32 32 32zM896 480H362.666667c-17.066667 0-32 14.933333-32 32s14.933333 32 32 32h533.333333c17.066667 0 32-14.933333 32-32s-14.933333-32-32-32z","p-id":"2520",fill:"#333333"})]}),n.title]}),Object(r.jsx)("ul",{className:"nav-list",children:n.nav_list.map((function(e,a){return Object(r.jsx)("li",{className:"list-item",children:Object(r.jsx)("span",{className:c()({active:a===n.currentIndex}),onClick:function(){return t(a)},children:e.title})},e.type)}))})]})}},164:function(n,t,e){"use strict";e.d(t,"a",(function(){return s}));var r=e(19),a=(e(0),e(128));function i(){var n=Object(a.a)(["\n  width: 100%;\n  height: 80px;\n  line-height: 80px;\n  font-size: 13px;\n  color: #666;\n  text-align: center;\n"]);return i=function(){return n},n}var c=e(127).a.div(i());function s(n){return Object(r.jsx)(c,{children:n.title?n.title:"\u6ca1\u6709\u66f4\u591a\u6570\u636e\u4e86..."})}},331:function(n,t,e){"use strict";e.d(t,"a",(function(){return l}));var r=e(19),a=e(31),i=e.n(a),c=e(131),s=e(0),o=e(291),u=e.n(o),d=e(130);function l(n){var t=Object(s.useCallback)(function(){var n=Object(c.a)(i.a.mark((function n(t){var e,r;return i.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return e=function(n){t.progress(n.loaded/n.total*100)},n.next=3,Object(d.o)(t.file,e);case 3:0===(r=n.sent).status?t.success({url:r.data.imgUrl}):t.error({msg:"\u4e0a\u4f20\u5931\u8d25"});case 5:case"end":return n.stop()}}),n)})));return function(t){return n.apply(this,arguments)}}(),[]);return Object(r.jsx)(u.a,{value:n.content,onChange:n.contentChange,media:{uploadFn:t,accepts:{image:"image/png,image/jpeg,image/gif,image/webp,image/apng,image/svg"}}})}},445:function(n,t,e){"use strict";e.r(t),t.default=e.p+"static/media/best_answer.e574d375.png"},453:function(n,t,e){"use strict";e.r(t),e.d(t,"default",(function(){return K}));var r=e(19),a=e(15),i=e(31),c=e.n(i),s=e(131),o=e(59),u=e(0),d=e(61),l=e(291),f=e.n(l),p=e(10),b=e.n(p),j=e(165),x=e(128),m=e(127);function h(){var n=Object(x.a)(["\n  padding: 15px;\n  background-color: #fff;\n  .type {\n    a {\n      display: inline-block;\n      padding: 2px 4px;\n      background-color: #e5f2ff;\n      &:hover {\n        color: #fff;\n        background-color:#1890ff;\n      }\n    }\n  }\n  .header {\n    margin-top: 8px;\n    .detail {\n      span {\n        margin-left: 5px;\n        color: #999;\n      }\n      .icon-dianzan {\n        margin-left: 8px;\n        margin-right: -5px;\n        cursor: pointer;\n      }\n      .active {\n          color: #1890ff;\n        }\n    }\n  }\n\n"]);return h=function(){return n},n}var O=m.a.div(h()),g=e(43),v=e(36);function _(){var n=Object(x.a)(["\n  position: relative;\n  max-height: ",";\n  padding-bottom: 20px;\n  overflow: hidden;\n  img {\n    max-width: 1000px;\n  }\n  span {\n      color: #1f94ff;\n      line-height: 60px;\n      cursor: pointer;\n    }\n  .read-more {\n    position: absolute;\n    bottom: 0;\n    right: 0;\n    left: 0;\n    height: 40px;\n    margin: 0;\n    text-align: center;\n    background: linear-gradient(to bottom, rgba(255, 255, 255, 0) 0%, rgba(255, 255, 255, 1) 75%);\n  }\n  .close {\n    position: absolute;\n    bottom: -10px;\n    right: 0;\n    left: 0;\n    height: 40px;\n    text-align: center;\n  }\n"]);return _=function(){return n},n}var w=m.a.div(_(),(function(n){return n.maxHeight}));function k(n){var t=Object(u.useState)(!1),e=Object(o.a)(t,2),a=e[0],i=e[1],c=Object(u.useState)(!1),s=Object(o.a)(c,2),d=s[0],l=s[1],f=Object(u.useRef)(),p=Object(u.useRef)();Object(u.useEffect)((function(){var t=setInterval((function(){p.current.clientHeight>n.maxHeight&&l(!0),"complete"===document.readyState&&clearInterval(t)}),500);return function(){clearInterval(t)}}),[p,n.maxHeight]);return Object(r.jsxs)(w,{ref:f,maxHeight:"".concat(n.maxHeight,"px"),children:[Object(r.jsx)("div",{id:"content",className:"content",ref:p,dangerouslySetInnerHTML:{__html:n.content}}),d&&(a?Object(r.jsx)("p",{className:"close",children:Object(r.jsxs)("span",{onClick:function(){i(!1),f.current.style.maxHeight=n.maxHeight+"px"},children:[Object(r.jsx)("span",{className:"iconfont icon-shang"}),"\u6536\u8d77"]})}):Object(r.jsx)("p",{className:"read-more",children:Object(r.jsxs)("span",{onClick:function(){i(!0),f.current.style.maxHeight="1200px"},children:[Object(r.jsx)("span",{className:"iconfont icon-xia"}),"\u67e5\u770b\u66f4\u591a"]})}))]})}function y(n){var t=n.question;return Object(r.jsxs)(O,{children:[Object(r.jsx)("div",{className:"type",children:Object(r.jsx)(g.b,{to:"/",children:t.type_name})}),Object(r.jsxs)("header",{className:"header",children:[Object(r.jsx)("h2",{className:"title",children:t.q_title}),Object(r.jsxs)("div",{className:"detail",children:[Object(r.jsxs)("span",{children:["\u53d1\u5e03\u4e8e ",Object(v.d)(t.q_time)]}),Object(r.jsxs)("span",{children:["\u63d0\u95ee\u8005\uff1a",t.username]}),Object(r.jsxs)("span",{children:["\u6d4f\u89c8\uff1a",t.view_num,"\u6b21"]}),Object(r.jsx)("span",{className:b()({active:t.star},"iconfont","icon-dianzan"),onClick:n.star}),Object(r.jsx)("span",{className:b()({active:t.star}),children:t.star_num})]})]}),Object(r.jsx)(k,{maxHeight:"100",content:f.a.createEditorState(t.q_content).toHTML()}),Object(r.jsx)("div",{className:"handle",children:Object(r.jsx)(j.a,{type:"primary",onClick:n.mark,children:t.mark?"\u5df2\u6807\u6ce8":"\u6807\u6ce8\u8be5\u95ee\u9898"})})]})}var q=e(437),N=e(90),C=e(159);function T(){var n=Object(x.a)(["\n padding: 15px;\n border: 1px solid #e6e6e6;\n  .header {\n    display: inline-block;\n    img {\n      width: 30px;\n      height: 30px;\n      border-radius: 50%;\n    }\n    span {\n      color: #333;\n      margin-left: 8px;\n    }\n  }\n  .answer {\n    padding:0 40px;\n    padding-top: 10px;\n  }\n  .footer {\n    display: flex;\n    justify-content: space-between;\n    .detail {\n      padding:0  40px;\n      font-size: 14px;\n      color: #999;\n      .icon-dianzan {\n        font-size: 14px;\n        span {\n          margin: 0;\n          margin-left: 2px;\n        }\n      }\n      span {\n        margin-right: 10px;\n      }\n      .active {\n        color: #40a9ff;\n      }\n      .star {\n        cursor: pointer;\n      }\n      .icon-shanchu {\n        color: #666;\n        cursor: pointer;\n        &:hover {\n          color: red;\n        }\n      }\n      .icon-shanchu {\n        margin-right: 20px;\n      }\n    }\n  }\n"]);return T=function(){return n},n}var z=m.a.div(T());function H(n){return Object(r.jsxs)(z,{children:[Object(r.jsxs)(g.b,{to:"/",className:"header",children:[Object(r.jsx)("img",{src:n.item.avatar,alt:""}),Object(r.jsx)("span",{children:n.item.username})]}),Object(r.jsx)("div",{className:"answer",children:Object(r.jsx)(k,{maxHeight:200,content:n.item.a_content})}),Object(r.jsxs)("div",{className:"footer",children:[Object(r.jsxs)("div",{className:"detail",children:[Object(r.jsx)("span",{className:"time",children:Object(v.c)(n.item.a_time)}),Object(r.jsx)("span",{className:b()({active:n.item.star},"star","iconfont","icon-dianzan"),onClick:function(){return n.star(n.item.a_id,n.index)},children:Object(r.jsx)("span",{children:n.item.star_num})}),n.showDelete&&Object(r.jsx)("span",{className:"iconfont icon-shanchu",onClick:function(t){return n.delete(n.item.a_id)}})]}),Object(r.jsx)("div",{className:"handle",children:n.showBtn&&Object(r.jsx)(j.a,{type:"primary",onClick:function(){return n.setTrueAnswer(n.item.a_id)},children:"\u8bbe\u4e3a\u7b54\u6848"})})]})]})}function S(){var n=Object(x.a)(["\n  .best {\n    position: relative;\n    background-color: #fbf2ca;\n    .best-img {\n      position: absolute;\n      right: 0;\n      top: 0;\n      height: 80px;\n      width: 80px;\n    }\n    button {\n      position: absolute;\n      right: 15px;\n      bottom: 15px;\n      background-color: #999;\n      border: none;\n    }\n  }\n"]);return S=function(){return n},n}var M=m.a.div(S());function A(n){return Object(r.jsxs)(M,{children:[n.best_answer&&Object(r.jsxs)("div",{className:"best",children:[Object(r.jsx)(H,{item:n.best_answer,star:n.star,index:n.best_index,showDelete:n.user_id===n.best_answer.u_id,delete:function(t){return n.delete(t)}},n.best_answer.a_id),Object(r.jsx)("img",{src:e(445).default,alt:"",className:"best-img"}),n.showBtn&&Object(r.jsx)(j.a,{type:"primary",onClick:function(){return n.cancelTrueAnswer(n.best_answer.a_id)},children:"\u53d6\u6d88\u63a8\u8350"})]}),n.answer.map((function(t,e){return Object(r.jsx)(H,{item:t,star:n.star,index:e,showBtn:n.showBtn,showDelete:n.user_id===t.u_id,delete:function(t){return n.delete(t)},setTrueAnswer:function(t){return n.setTrueAnswer(t)}},t.a_id)}))]})}function E(){var n=Object(x.a)(["\n  margin-top: 15px;\n  background-color: #fff;\n"]);return E=function(){return n},n}var I=m.a.div(E()),L=e(164),B=e(64),F=e(130),D=e(138);function Z(n){var t=Object(u.useState)([]),e=Object(o.a)(t,2),a=e[0],i=e[1],d=Object(u.useState)(),l=Object(o.a)(d,2),f=l[0],p=l[1],b=Object(u.useState)(-1),j=Object(o.a)(b,2),x=j[0],m=j[1];Object(D.b)("\u67e5\u770b\u95ee\u9898"),Object(u.useEffect)((function(){function t(){return(t=Object(s.a)(c.a.mark((function t(){var e;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(B.b)(n.user_id,n.q_id);case 2:0===(e=t.sent).status&&(e.data.answerList.some((function(n,t){return 1===n.resolve&&(p(n),m(t),!0)})),-1!==x&&e.data.answerList.splice(x,1),i(e.data.answerList));case 4:case"end":return t.stop()}}),t)})))).apply(this,arguments)}!function(){t.apply(this,arguments)}()}),[n.user_id,n.q_id,n.replyFlag,x]);var h=Object(u.useCallback)((function(t,e){if(!n.user_id)return Object(v.h)();var r=Array.prototype.slice.call(a);a[e].star?(r[e].star=!1,r[e].star_num-=1):(r[e].star=!0,r[e].star_num+=1),i(r),Object(F.b)(n.user_id,n.q_id,t,r[e].star)}),[a,n.user_id,n.q_id]),O=Object(u.useCallback)((function(t){q.a.confirm({title:"\u63d0\u793a",content:"\u662f\u5426\u5220\u9664\u8be5\u56de\u7b54?",okText:"\u786e\u8ba4",cancelText:"\u53d6\u6d88",onOk:function(){var e=Object(s.a)(c.a.mark((function e(){var r;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=!1,-1===a.findIndex((function(n){return n.a_id===t}))&&(r=!0),e.next=5,Object(F.h)(n.user_id,n.q_id,t,r);case 5:0===e.sent.status&&(i(a.filter((function(n){return n.a_id!==t}))),f&&t===f.a_id&&p(),N.b.success({style:{fontSize:"12px"},duration:1,content:"\u5220\u9664\u6210\u529f"}));case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()})}),[n.user_id,n.q_id,a,f]),g=Object(u.useCallback)((function(t){q.a.confirm({title:"\u63d0\u793a",content:"\u662f\u5426\u8bbe\u7f6e\u8be5\u56de\u7b54\u4e3a\u6b63\u786e\u7b54\u6848?",okText:"\u786e\u8ba4",cancelText:"\u53d6\u6d88",onOk:function(){var e=Object(s.a)(c.a.mark((function e(){var r,s;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(F.e)(n.user_id,n.q_id,t);case 2:0===e.sent.status&&(-1!==(s=(r=a).findIndex((function(n){return n.a_id===t})))&&(m(s),p(r[s])),r=r.filter((function(n){return n.a_id!==t})),f&&r.unshift(f),i(r),N.b.success({style:{fontSize:"12px"},duration:1,content:"\u8bbe\u7f6e\u6210\u529f"}));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()})}),[a,f,n.q_id,n.user_id]),_=Object(u.useCallback)((function(t){q.a.confirm({title:"\u63d0\u793a",content:"\u662f\u5426\u53d6\u6d88\u8be5\u56de\u7b54\u4e3a\u6b63\u786e\u7b54\u6848?",okText:"\u786e\u8ba4",cancelText:"\u53d6\u6d88",onOk:function(){var e=Object(s.a)(c.a.mark((function e(){var r;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(F.a)(n.user_id,n.q_id,t);case 2:0===e.sent.status&&(r=Array.prototype.slice.call(a),f&&r.unshift(f),i(r),p(),N.b.success({style:{fontSize:"12px"},duration:1,content:"\u53d6\u6d88\u6210\u529f"}));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()})}),[a,f,n.q_id,n.user_id]);return Object(r.jsxs)(I,{children:[Object(r.jsx)(C.a,{nav_list:[],title:"\u56de\u7b54"}),Object(r.jsx)(A,{answer:a,star:h,best_answer:f,best_index:x,showBtn:n.user_id===n.u_id,user_id:n.user_id,delete:O,setTrueAnswer:g,cancelTrueAnswer:_}),0===a.length?Object(r.jsx)(L.a,{title:"\u8d76\u7d27\u6765\u56de\u7b54\u5427..."}):""]})}var J=e(331);function R(){var n=Object(x.a)(["\n  margin-top: 15px;\n  background-color: #fff;\n  .editor-wrap {\n    margin: 15px;\n    border: 1px solid #e6e6e6;\n  }\n  .btns {\n    padding: 20px 0;\n    text-align: center;\n  }\n"]);return R=function(){return n},n}var U=m.a.div(R());function P(n){var t=Object(u.useState)(""),e=Object(o.a)(t,2),a=e[0],i=e[1],l=Object(d.c)((function(n){return n.user.user_id})),p=Object(u.useCallback)((function(n){i(n)}),[]),b=Object(u.useCallback)(Object(s.a)(c.a.mark((function t(){return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(l){t.next=2;break}return t.abrupt("return",Object(v.h)());case 2:if("string"!==typeof a||""!==a.trim()){t.next=4;break}return t.abrupt("return",N.b.error({style:{fontSize:"12px"},duration:1,content:"\u56de\u7b54\u5185\u5bb9\u4e0d\u80fd\u4e3a\u7a7a"}));case 4:return t.next=6,Object(F.n)(l,n.q_id,a.toHTML());case 6:0===t.sent.status&&(N.b.success({style:{fontSize:"12px"},duration:1,content:"\u56de\u7b54\u6210\u529f"}),i(f.a.createEditorState("")),n.replyFinish());case 8:case"end":return t.stop()}}),t)}))),[l,a,n]);return Object(r.jsxs)(U,{children:[Object(r.jsx)(C.a,{nav_list:[],title:"\u64b0\u5199\u7b54\u6848"}),Object(r.jsx)("div",{className:"editor-wrap",children:Object(r.jsx)(J.a,{content:a,contentChange:p})}),Object(r.jsx)("div",{className:"btns",children:Object(r.jsx)(j.a,{type:"primary",onClick:b,children:"\u63d0\u4ea4\u7b54\u6848"})})]})}function Y(){var n=Object(x.a)(["\n"]);return Y=function(){return n},n}var G=m.a.div(Y());function K(n){var t=Object(u.useState)(!1),e=Object(o.a)(t,2),i=e[0],l=e[1],f=Object(u.useState)({}),p=Object(o.a)(f,2),b=p[0],j=p[1],x=Object(d.c)((function(n){return n.user.user_id})),m=n.match.params.id;Object(u.useEffect)((function(){var n=setTimeout((function(){Object(B.a)(m)}),5e3);return function(){clearTimeout(n)}}),[m]),Object(u.useEffect)((function(){function n(){return(n=Object(s.a)(c.a.mark((function n(){var t,e;return c.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Object(B.d)(m,x);case 2:0===(t=n.sent).status&&((e=t.data.question[0]).star=t.data.star,e.mark=t.data.mark,j(e));case 4:case"end":return n.stop()}}),n)})))).apply(this,arguments)}!function(){n.apply(this,arguments)}()}),[x,m,i]);var h=Object(u.useCallback)((function(){if(!x)return Object(v.h)();b.star?j(Object(a.a)(Object(a.a)({},b),{},{star:!b.star,star_num:b.star_num-1})):j(Object(a.a)(Object(a.a)({},b),{},{star:!b.star,star_num:b.star_num+1})),Object(F.d)(x,m,!b.star)}),[b,x,m]),O=Object(u.useCallback)((function(){if(!x)return Object(v.h)();b.mark?j(Object(a.a)(Object(a.a)({},b),{},{mark:!b.mark,mark_num:b.mark_num-1})):j(Object(a.a)(Object(a.a)({},b),{},{mark:!b.mark,mark_num:b.mark_num+1})),Object(F.c)(x,m,!b.mark)}),[b,x,m]),g=Object(u.useCallback)((function(){l(!i)}),[i]);return Object(r.jsxs)(G,{className:"wrap-v1",children:[Object(r.jsx)(y,{question:b,star:h,mark:O}),Object(r.jsx)(Z,{u_id:b.u_id,q_id:m,user_id:x,replyFlag:i}),Object(r.jsx)(P,{q_id:m,replyFinish:g})]})}}}]);