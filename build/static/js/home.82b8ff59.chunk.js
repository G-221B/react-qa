(this["webpackJsonpreact-qa"]=this["webpackJsonpreact-qa"]||[]).push([[7],{130:function(n,e,t){"use strict";t.d(e,"m",(function(){return i})),t.d(e,"p",(function(){return a})),t.d(e,"j",(function(){return c})),t.d(e,"q",(function(){return s})),t.d(e,"o",(function(){return o})),t.d(e,"d",(function(){return u})),t.d(e,"c",(function(){return l})),t.d(e,"b",(function(){return d})),t.d(e,"n",(function(){return f})),t.d(e,"h",(function(){return h})),t.d(e,"e",(function(){return p})),t.d(e,"a",(function(){return b})),t.d(e,"f",(function(){return j})),t.d(e,"g",(function(){return x})),t.d(e,"l",(function(){return m})),t.d(e,"k",(function(){return g})),t.d(e,"i",(function(){return v}));var r=t(27);function i(){return r.a.get("/isLogin")}function a(n,e){return r.a.post("/user/login",{account:n,password:e,userType:0})}function c(n){return r.a.post("/user/account",{account:n})}function s(n){var e=n.name,t=n.account,i=n.password,a=n.sex,c=n.email,s=n.detail;return r.a.post("/user/register",{name:e,account:t,password:i,sex:a,email:c,detail:s})}function o(n,e){var t=new FormData;return t.append("file",n),r.a.post("/user/upload",t,{headers:{"content-type":"multipart/form-data"},onUploadProgress:e})}function u(n,e,t){return r.a.post("/question/star",{user_id:n,q_id:e,star:t})}function l(n,e,t){return r.a.post("/question/mark",{user_id:n,q_id:e,mark:t})}function d(n,e,t,i){return console.log(n,e,t,i),r.a.post("/question/answer/star",{user_id:n,a_id:t,q_id:e,star:i})}function f(n,e,t){return console.log(n,e,t),r.a.post("/question/reply",{user_id:n,q_id:e,content:t})}function h(n,e,t,i){return r.a.post("/question/answer/delete",{user_id:n,a_id:t,q_id:e,best_answer:i})}function p(n,e,t){return r.a.post("/question/answer/true",{user_id:n,q_id:e,a_id:t})}function b(n,e,t){return r.a.post("/question/answer/cancel",{user_id:n,q_id:e,a_id:t})}function j(n,e,t,i,a,c){return r.a.post("/user/info",{user_id:n,avatar:e,name:t,sex:i,email:a,detail:c})}function x(n,e,t){return r.a.post("/user/password",{user_id:n,old_password:e,new_password:t})}function m(n,e){return r.a.get("/user/question",{params:{user_id:n,pageNum:e}})}function g(n,e){return r.a.get("/user/mark",{params:{user_id:n,pageNum:e}})}function v(n,e){return r.a.post("/question/delete",{user_id:n,q_id:e})}},323:function(n,e,t){"use strict";t.d(e,"a",(function(){return s}));var r=t(19),i=(t(0),t(128));function a(){var n=Object(i.a)(["\n  width: 100%;\n  height: 40px;\n  color: #fff;\n  text-align: center;\n  background-color: #3579a6;\n  p {\n    line-height:40px;\n  }\n"]);return a=function(){return n},n}var c=t(127).a.div(a());function s(){return Object(r.jsx)(c,{children:Object(r.jsx)("footer",{className:"wrap-v1",children:Object(r.jsx)("p",{children:"\xa92017 - 2021 \u4e2a\u4eba\u6bd5\u4e1a\u8bbe\u8ba1"})})})}},328:function(n,e,t){"use strict";t.d(e,"a",(function(){return i})),t.d(e,"b",(function(){return a}));var r=t(48),i=function(n){return{type:r.a,newVal:n}},a=function(n){return{type:r.b,newVal:n}}},456:function(n,e,t){"use strict";t.r(e),t.d(e,"default",(function(){return q}));var r=t(19),i=t(31),a=t.n(i),c=t(131),s=t(59),o=t(0),u=t(61),l=t(72),d=t(128),f=t(127);function h(){var n=Object(d.a)(["\n  display: flex;\n  flex-direction: column;\n  padding-top: 55px;\n  .home-main {\n    min-height: calc(100vh - 55px - 40px);\n    padding: 20px 0;\n    overflow: auto;\n    background-color: #f4f6f8;\n  }\n"]);return h=function(){return n},n}var p=f.a.div(h()),b=t(448),j=t(165),x=t(432);function m(){var n=Object(d.a)(["\n  z-index: 10;\n  position: fixed;\n  top: 0;\n  right: 0;\n  left: 0;\n  height: 50px;\n  background-color: #3579a6;\n  .header {\n    position: relative;\n    display: flex;\n    align-items: center;\n    justify-content: space-between;\n    height: 100%;\n    .left {\n      display: flex;\n      align-items: center;\n      .logo {\n        display: flex;\n        align-items: center;\n        width: 100px;\n        height: 100%;\n        text-align: center;  \n        .icon {\n          width: 80px;\n          height: 35px;\n        }\n      }\n      .nav {\n        height: 100%;\n        a {\n          display: inline-block;\n          padding: 0 20px;\n          height: 100%;\n          line-height: 50px;\n          cursor: pointer;\n          color: #fff;\n          &:hover,&.nav-active {\n            background-color: #2c618d;\n          }\n        }\n      }\n    }\n    .right {\n      display: flex;\n      align-items:center;\n      .search {\n        width: 200px;\n        input {\n          outline: none;\n          &::placeholder {\n            color: #999;\n          }\n        }\n      }\n      .btns {\n        margin-left: 30px;\n        button {\n          margin-right: 15px;\n          border: none;\n          &.btn-login {\n            background-color: #5bbf5a;\n            &:hover {\n              background-color: #38b836;\n            }\n          }\n          &.btn-register {\n            background-color: #40a9ff;\n            &:hover {\n              background-color: #1890ff;\n            }\n          }\n        }\n      }\n      .user {\n        display: flex;\n        align-items: center;\n        height:50px;\n        margin-left: 30px;\n        .btn-publish {\n          margin-right: 40px;\n        }\n        .user-info {\n          display: flex;\n          position: relative;\n          height: 100%;\n          align-items: center;\n          &:hover .user-menu{\n            display: block;\n          }\n          img{\n            width: 30px;\n            height: 30px;\n            border-radius: 50%;\n            cursor:pointer;\n          }\n          .user-menu {\n            display: none;\n            position: absolute;\n            top: 50px;\n            right: -40px;\n            background-color: #fff;\n            box-shadow: 0 0 2px #999;\n            .menu-item {\n              display: inline-block;\n              width: 96px;\n              height: 42px;\n              line-height: 42px;\n              text-align: center;\n              &:hover {\n                background-color: #f0f0f0;\n              }\n            }\n          }\n        }\n      }\n    }\n  }\n"]);return m=function(){return n},n}var g=f.a.div(m()),v=t(43),O=t(6),w=t(36);var y=Object(O.g)((function(n){var e=Object(o.useState)(""),t=Object(s.a)(e,2),i=t[0],a=t[1],c=Object(o.useCallback)((function(){n.history.push("/home/search?key="+i),a("")}),[i,n.history]),u=Object(o.useCallback)((function(n){a(n.target.value)}),[]);return Object(r.jsx)(g,{children:Object(r.jsxs)("header",{className:"header wrap-v1",children:[Object(r.jsxs)("div",{className:"left",children:[Object(r.jsx)(v.b,{to:"/home",className:"logo",children:Object(r.jsxs)("svg",{t:"1611199360091",className:"icon",viewBox:"0 0 1134 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"3600",children:[Object(r.jsx)("path",{d:"M220.897507 1024v-145.728532H99.279778A99.279778 99.279778 0 0 1 0 780.055402V415.556787a99.634349 99.634349 0 0 1 99.279778-99.279779H248.199446v70.914128H99.279778a28.365651 28.365651 0 0 0-28.365651 28.365651V780.055402a28.365651 28.365651 0 0 0 28.365651 28.365651h192.531856v87.933518l138.99169-87.933518h179.412742v70.914127h-158.847645z","p-id":"3601",fill:"#ffffff"}),Object(r.jsx)("path",{d:"M931.102493 910.537396L638.227147 726.160665H332.941828A120.554017 120.554017 0 0 1 212.742382 605.606648V120.554017A120.554017 120.554017 0 0 1 332.941828 0h681.484765A120.908587 120.908587 0 0 1 1134.626039 120.554017v485.052631a120.908587 120.908587 0 0 1-120.554017 120.554017h-82.969529zM332.941828 70.914127A49.639889 49.639889 0 0 0 283.65651 120.554017v485.052631a49.639889 49.639889 0 0 0 49.639889 49.639889h326.204986l200.686981 126.581718v-126.581718h154.238227a49.639889 49.639889 0 0 0 49.639889-49.639889V120.554017a49.639889 49.639889 0 0 0-49.639889-49.63989z","p-id":"3602",fill:"#ffffff"}),Object(r.jsx)("path",{d:"M976.842105 497.462604h-70.914127v-15.955679l-54.603878-140.764543-54.958449 140.764543v15.955679h-70.914127v-29.074792l98.925207-254.581718h53.540167l98.925207 254.581718v29.074792zM531.855956 496.398892a141.828255 141.828255 0 1 1 141.828255-141.828255 141.828255 141.828255 0 0 1-141.828255 141.828255z m0-212.742382a70.914127 70.914127 0 1 0 70.914127 70.914127 70.914127 70.914127 0 0 0-70.914127-70.914127z","p-id":"3603",fill:"#ffffff"}),Object(r.jsx)("path",{d:"M581.460388 455.091413l50.100831-50.171745 54.178393 54.142936-50.136288 50.171745z","p-id":"3604",fill:"#ffffff"})]})}),Object(r.jsxs)("nav",{className:"nav",children:[Object(r.jsx)(v.b,{exact:!0,to:"/home",activeClassName:"nav-active",children:"\u53d1\u73b0"}),Object(r.jsx)(v.b,{exact:!0,to:"/home/category",activeClassName:"nav-active",children:"\u5206\u7c7b"})]})]}),Object(r.jsxs)("div",{className:"right",children:[Object(r.jsx)("div",{className:"search",children:Object(r.jsx)(b.a,{value:i,allowClear:!0,placeholder:"\u641c\u7d22\u95ee\u9898",onChange:u,onPressEnter:c,suffix:Object(r.jsx)(x.a,{onClick:c})})}),n.user_info?Object(r.jsxs)("div",{className:"user",children:[Object(r.jsx)(v.b,{to:"/home/publish",children:Object(r.jsx)(j.a,{type:"primary",className:"btn-publish",children:"\u53d1\u5e03\u95ee\u9898"})}),Object(r.jsxs)("div",{className:"user-info",children:[Object(r.jsx)("img",{src:n.user_info.avatar,alt:"",onClick:function(){n.history.push("/home/user")}}),Object(r.jsxs)("ul",{className:"user-menu",children:[Object(r.jsx)("li",{children:Object(r.jsx)(v.b,{className:"menu-item",to:"/home/user",children:"\u4e2a\u4eba\u4e2d\u5fc3"})}),Object(r.jsx)("li",{children:Object(r.jsx)(v.b,{className:"menu-item",to:"/home/user/question",children:"\u6211\u7684\u63d0\u95ee"})}),Object(r.jsx)("li",{children:Object(r.jsx)(v.b,{className:"menu-item",to:"/home/user/mark",children:"\u6211\u7684\u6807\u6ce8"})}),Object(r.jsx)("li",{children:Object(r.jsx)("a",{className:"menu-item",onClick:function(e){e.preventDefault(),Object(w.a)("token"),Object(w.a)("account"),n.history.push("/login")},href:"javascipt;",children:"\u9000\u51fa"})})]})]})]}):Object(r.jsxs)("div",{className:"btns",children:[Object(r.jsx)(v.b,{to:"/login",children:Object(r.jsx)(j.a,{type:"primary",className:"btn-login",children:"\u767b\u9646"})}),Object(r.jsx)(v.b,{to:"/register",children:Object(r.jsx)(j.a,{type:"primary",className:"btn-register",children:"\u6ce8\u518c"})})]})]})]})})})),_=t(323),k=t(130),N=t(328);function q(n){var e=Object(o.useState)(),t=Object(s.a)(e,2),i=t[0],d=t[1],f=Object(u.b)();return Object(o.useEffect)((function(){window.$myHistory=n.history}),[n.history]),Object(o.useEffect)((function(){function n(){return(n=Object(c.a)(a.a.mark((function n(){var e,t;return a.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(e=Object(w.f)("account")){n.next=3;break}return n.abrupt("return");case 3:return n.next=5,Object(k.j)(e);case 5:0===(t=n.sent).status&&(f(Object(N.a)(t.data.user[0].account)),f(Object(N.b)(t.data.user[0].id)),d(t.data.user[0]));case 7:case"end":return n.stop()}}),n)})))).apply(this,arguments)}!function(){n.apply(this,arguments)}()}),[f]),Object(r.jsxs)(p,{children:[Object(r.jsx)(y,{user_info:i}),Object(r.jsx)("div",{className:"home-main",children:Object(l.a)(n.route.routes)}),Object(r.jsx)(_.a,{})]})}}}]);